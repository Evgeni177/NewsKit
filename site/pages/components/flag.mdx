import Layout from '../../components/layout';
import Playground from '../../components/playground';
import {Prop} from '../../components/prop';
import {TextBoxSwatch} from '../../components/theming-values/colors';
import {LegacyBlock} from '../../components/legacy-block';
import {Flag, FlagSize, PaddingPresetKeys, Sub} from 'newskit';
import {CodeFromDefaultPresets} from '../../components/code';

export default Layout;

# Flag

## Overview

The flag element is used as a way of showing the status of the content.

### Usage

A flag is used to show that a stream is live, or content has been created or updated.

## Props

Flags have a number of props to facilitate a variety of uses:

<LegacyBlock marginTop="sizing040">
  <Prop name="children" type="string" required>
    The content of the Flag is passed as the child of the component.
  </Prop>
  <Prop name="size" type="FlagSize" enum={FlagSize} default="Small">
    Optional size of the Flag.
  </Prop>

  <Prop name="overrides" type="object">
    If provided, overrides the respective presets for the component and provided elements.
    Here are the overrides that the Flag accepts:
    <Prop name="spaceInset" type="MQ<PaddingPresetKeys>">
      If provided, this overrides the padding of the Flag. Otherwise,
      spaceInset010Squish or spaceInset020Squish is used depending on the `size`
      prop.
    </Prop>
    <Prop name="stylePreset" type="MQ<StylePresetKeys>">
      If provided, this overrides the style preset applied to the Flag.
    </Prop>
    <Prop name="typographyPreset" type="MQ<TypographyPresetKeys>">
      If provided, this overrides the typography preset applied to the Flag. Otherwise,
      label010 or label020 is used depending on the `size` prop.
    </Prop>
    <Prop name="spaceInline" type="MQ<SizingKeys>">
      If provided, this overrides the space between multiple children in the
      underlying Stack. If less than 2 children are passed, this prop is
      irrelevant.
    </Prop>
    <Prop name="iconSize" type="IconSizeKeys">
      If provided, this overrides the icon size of any child icons. If no icons
      are present in the Flag's children then this prop is irrelevant.
      <br />
      <br />
      <i>Note: You can also set the icon size by passing it directly as a size prop to the icon,
      but by doing this you will override the iconSize passed from overrides.
      We discourage this approach but we will keep the functionality
      in case it is needed.</i>
    </Prop>
    <Prop name="width" type="SizingKeys | string">
      If provided, this sets a fixed width to the Flag. This can be a sizing token
      from the theme, or any CSS length value, e.g. 100% for a full-width element.
    </Prop>
    <Prop name="height" type="SizingKeys | string">
      If provided, this sets a fixed height to the Flag. This can be a sizing
      token from the theme, or any CSS length value.
    </Prop>
    <Prop name="minHeight" type="SizingKeys | string">
      If provided, this sets a minimum height to the Flag. This can be a sizing
      token from the theme, or any CSS length value. By default, sizing050 or
      sizing060 is used depending on the `size` prop.
    </Prop>
    Refer to the defaults below for the object structure:
    <CodeFromDefaultPresets componentName="flag" />
  </Prop>
  <Prop name="disabled" type="boolean">
    If true, this will cause the Flag to render the disabled state of the style
    preset.
  </Prop>
  <Prop name="isLoading" type="boolean">
    If true, this will cause the Flag to render the loading state of the style
    preset.
  </Prop>
</LegacyBlock>

## Playground

<Playground
  componentName={['Flag']}
  component={Flag}
  knobs={[
    {
      name: 'Content',
      propName: 'children',
      value: 'Flag Content',
    },
    {
      name: 'Flag Size',
      propName: 'size',
      options: [
        {
          label: 'Default (Small)',
          value: FlagSize.Small,
          isDefault: true,
        },
        {
          label: 'Large',
          value: FlagSize.Large,
        },
      ],
    },
    {
      name: 'Spacing Preset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            spaceInset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'spaceInset000Squish',
          value: {
            spaceInset: 'spaceInset000Squish',
          },
        },
      ],
    },
    {
      name: 'Style Preset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            stylePreset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'flagSolid',
          value: {
            stylePreset: 'flagSolid',
          },
        },
        {
          label: 'flagMinimal',
          value: {
            stylePreset: 'flagMinimal',
          },
        },
      ],
    },
    {
      name: 'Typography Preset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            typographyPreset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'label010',
          value: {
            typographyPreset: 'label010',
          },
        },
        {
          label: 'label020',
          value: {
            typographyPreset: 'label020',
          },
        },
      ],
    },
  ]}
/>

For more information on overriding component defaults, see the docs [here](/theming/component-defaults).

## Rationale

### Styling

Flags are designed to be compact and discreet as they are intended to supplement the primary content.

### Accessibility

#### Colour

Text and background colours must have a 3:1 minimum contrast ratio.
Hover states should have clear contrast change or should include a non colour designator.
