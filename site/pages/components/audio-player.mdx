import Layout from '../../components/layout';
import Playground from '../../components/playground';
import Prop from '../../components/prop';

import {
  AudioPlayer,
  UnorderedList,
  Circle,
  Block
} from 'newskit';

export default Layout;

# Audio Player

## Overview

The Audio Player component is a collection of custom features and elements built around the native `<audio>` element.

### Usage

The Audio Player requires a source stream to be passed in as a prop. This will then be loaded into the internal `<audio>` element for playback.

## Props

<Block $marginTop="sizing05">
  <Prop name="src" type="string" required>
    URL of the audio source to be played.
  </Prop>
  <Prop name="title" type="string" required>
    The title of the currently playing show or track.
  </Prop>
  <Prop name="imgSrc" type="string" required>
    Image to illustrate the show.
  </Prop>
  <Prop name="imgAlt" type="string" required>
     Alt text for the show image, this should describe the contents of the image.
  </Prop>
  <Prop name="description" type="string">
    Description text for the current show or track.
  </Prop>
  <Prop name="time" type="string">
    Textual description of the show time e.g. 1PM - 3PM. 
  </Prop>
  <Prop name="live" type="boolean">
    If true will display a label indicating the current show is live. 
  </Prop>
  <Prop name="autoplay" type="boolean">
    <div>
      Even though the feature is supported in most browser but the browser will only follow this setting if:
    </div>
    <ul>
      <li>you are on a desktop browser. it will not work on mobile browsers to prevent users from eating into their mobile data allowance</li>
      <li>it can't happen on page load, the user has to interact with the site for it to work: navigating inside an SPA seems to satisfy the browser as there was no page refresh.</li>
    </ul>
    <div>
      In Summary autoplay will work in some scenarios, this is expected. It's best thought of as a suggestion for the browser: play the audio automatically if it's acceptable from a usability perspective
    </div>
  </Prop>
  <Prop name="tags" type="Array<string>">
    List of tags to describe the current show, e.g. comedy, politics
  </Prop>
  <Prop name="captionSrc" type="string">
    Source for audio transcription generally provided in <a href='https://developer.mozilla.org/en-US/docs/Web/API/WebVTT_API'>web vtt format</a>.
  </Prop>
</Block>

## Playground

<Playground
  componentName="AudioPlayer"
  newskitPath="/audio-player"
  component={AudioPlayer}
  knobs={[
    {
      name: 'Source',
      propName: 'src',
      value: 'https://radio.talkradio.co.uk/stream',
    },
    {
      name: 'Title',
      propName: 'title',
      value: 'Talk Radio Live',
    },
    {
      name: 'Description',
      propName: 'description',
      value: 'Live from talkRadio.',
    },
    {
      name: 'Time',
      propName: 'time',
      value: '1PM to 3PM',
    },
    {
      name: 'Live',
      propName: 'live',
      type: 'boolean',
      value: true,
    },
    {
      name: 'Auto Play',
      propName: 'autoPlay',
      type: 'boolean',
      value: false,
    },
    {
      name: 'Tags',
      propName: 'tags',
      value: ["News", "Sport", "Live"],
    },
    {
      name: 'Image Source',
      propName: 'imgSrc',
      value: "https://via.placeholder.com/150",
    },
    {
      name: 'Image Alt Text',
      propName: 'imgAlt',
      value: 'Giles Coren',
    },
    {
      name: 'captionSrc',
      propName: 'captionSrc',
      value: 'captionsSrc.vtt',
    }
  ]}
/>

## Rationale

### Styling

The Audio Player's internal components can be styled as required.

### Accessibility

The controls of the Audio Player are fully accessible with the keyboard.
